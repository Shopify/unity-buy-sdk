#if UNITY_EDITOR || UNITY_STANDALONE
namespace <%= namespace %>.SDK {
    using System;
    using UnityEngine;
    using <%= namespace %>.SDK;

    class UnityWebCheckout: WebCheckout {

        private ShopifyClient _client;
        private Cart _cart;

        protected override ShopifyClient Client {
            get {
                return _client;
            }
        }

        protected override Cart Cart {
            get {
                return _cart;
            }
        }

        public UnityWebCheckout(Cart cart, ShopifyClient client) {
            _cart = cart;
            _client = client;
        }

        public override void Checkout(string checkoutURL, CheckoutSuccessCallback success, CheckoutCancelCallback cancelled, CheckoutFailureCallback failure) {
            #if !SHOPIFY_MONO_UNIT_TEST
            SetupWebCheckoutMessageReceiver(success, cancelled, failure);
            Application.OpenURL(checkoutURL);
            #endif
        }
    }
}
#endif
