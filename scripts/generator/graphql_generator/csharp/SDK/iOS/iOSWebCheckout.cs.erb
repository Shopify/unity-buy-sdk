#if UNITY_IOS
namespace <%= namespace %>.SDK.iOS {
    using System;
    using System.Runtime.InteropServices;
    using <%= namespace %>.SDK;
    using <%= namespace %>.GraphQL;

    #if !SHOPIFY_MONO_UNIT_TEST
    using UnityEngine;
    #endif

    class iOSWebCheckout: NativeWebCheckout {
        private static NativeWebViewMessageReceiver _messageReceiver;

        public iOSWebCheckout(Cart cart, ShopifyClient client) : base(cart, client) {}

        [DllImport ("__Internal")]
        private static extern void _CheckoutWithWebView(string unityDelegateObjectName, string checkoutURL);

        public override void Checkout(string checkoutURL, CheckoutSuccessCallback success, CheckoutCancelCallback cancelled, CheckoutFailureCallback failure) {
            #if !SHOPIFY_MONO_UNIT_TEST
            base.Checkout(checkoutURL, success, cancelled, failure);
            _CheckoutWithWebView(GlobalGameObject.Name, checkoutURL);
            #endif
        }
    }
}
#endif
