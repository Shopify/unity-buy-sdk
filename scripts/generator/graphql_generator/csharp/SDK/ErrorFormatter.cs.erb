namespace <%= namespace %> {
    using <%= namespace %>.SDK;

    public static class ErrorFormatter {
        /// <summary>
        /// Computes the ShopifyError we want to give back to the developer from a response. This method will return the first available error.
        /// </summary>
        /// <param name="response">response to format an error from</param>
        public static ShopifyError FormatErrorFromResponse(TopLevelResponse response) {
            if (response.HTTPError != null) {
                return new ShopifyError(ShopifyError.ErrorType.HTTP, response.HTTPError);
            } 
            
            if (response.errors != null && response.errors.Count > 0) {
                // Take the first error we received from GraphQL and bubble it up.
                return new ShopifyError(ShopifyError.ErrorType.GraphQL, response.errors[0]);
            }

            return null;
        }
    }
    }
