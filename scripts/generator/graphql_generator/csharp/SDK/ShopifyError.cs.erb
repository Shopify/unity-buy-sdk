namespace <%= namespace %>.SDK {
    using System.Collections.Generic;
    using MiniJSON;

    public class ShopifyError {
        public static explicit operator ShopifyError(TopLevelResponse response) {
            if (response.HTTPError != null) {
                return new ShopifyError(ShopifyError.ErrorType.HTTP, response.HTTPError);
            } 
            
            if (response.errors != null) {
                return new ShopifyError(ShopifyError.ErrorType.GraphQL, response.errors);
            }

            return null;
        }

        public enum ErrorType {
            HTTP, GraphQL, UserError, NativePaymentProcessingError
        }

        public readonly ErrorType Type;
        public readonly string Description;

        public ShopifyError(ErrorType type, string description) {
            this.Type = type;
            this.Description = description;
        }
    }
}
