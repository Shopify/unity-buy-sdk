machine:
  # These are actually not needed but since Circle expects all OSX projects to be
  # XCode / iOS projects we need to drop these in
  environment:
    XCODE_SCHEME: symbolicator
    XCODE_WORKSPACE: symbolicator
  # Also not needed but Circle needs this
  xcode:
    version: 7.3
dependencies:
  pre:
    # The application is expecting xcode to be installed in its normal location
    - sudo ln -s /Applications/Xcode-7.3.app /Applications/Xcode.app
  override:
    - ./scripts/install_unity.sh
    - ./scripts/build.sh
  cache_directories:
    - "unity/"
test:
  override:
    - ./scripts/test_unity.sh
